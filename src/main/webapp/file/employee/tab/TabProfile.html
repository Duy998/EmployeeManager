<html ng-app="CKEditorExample">

<head>
<link href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.css"
	rel="stylesheet">
<script src="//cdn.ckeditor.com/4.5.6/standard/ckeditor.js"></script>
<script src="//ajax.googleapis.com/ajax/libs/angularjs/1.4.7/angular.js"></script>

<script
	src="https://cdnjs.cloudflare.com/ajax/libs/ng-ckeditor/0.2.1/ng-ckeditor.min.js"></script>

<title>Angular CKEditor Example with custom directive and
	ng-ckeditor</title>
</head>

<body ng-controller="MainCtrl" style="padding: 20px">
	<h1>Method 1</h1>
	<textarea ng-model="content" data-ck-editor></textarea>

	{{content}}

	<hr>

	
</body>

</html>
<script type="text/javascript">
	var app = angular.module("CKEditorExample", [ "ngCkeditor" ]);
	app.directive('ckEditor', function() {
		return {
			require : '?ngModel',
			link : function(scope, elm, attr, ngModel) {
				var ck = CKEDITOR.replace(elm[0]);
				if (!ngModel)
					return;
				ck.on('instanceReady', function() {
					ck.setData(ngModel.$viewValue);
				});
				function updateModel() {
					scope.$apply(function() {
						ngModel.$setViewValue(ck.getData());
					});
				}
				ck.on('change', updateModel);
				ck.on('key', updateModel);
				ck.on('dataReady', updateModel);

				ngModel.$render = function(value) {
					ck.setData(ngModel.$viewValue);
				};
			}
		};
	});

	app.controller("MainCtrl", [ "$scope", function($scope) {
		$scope.content = "<p> this is custom directive </p>";
		$scope.content_two = "<p> this is ng-ckeditor directive </p>";
	} ]);
</script>
